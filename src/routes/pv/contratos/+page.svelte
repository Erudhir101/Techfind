<script>
	import { Button, Dialog, ScrollArea } from 'bits-ui';
	import { ChevronLeft, Plus, X } from '@lucide/svelte';
	import Contract from '../../components/Contract.svelte';

	let { data } = $props();
	let { services, user } = $derived(data);
</script>

<Button.Root
	href="../"
	class="bg-principal-1 hover:bg-principal-4 mt-4 ml-4 inline-block rounded-full border-2 border-black shadow hover:border-black/80"
>
	<ChevronLeft class="size-10 stroke-1 hover:stroke-black/80" />
</Button.Root>

<div class="mt-16 flex w-full flex-col items-center justify-center gap-8">
	<h2 class="text-2xl font-bold">CONTRATOS</h2>
	<Dialog.Root>
		<Dialog.Trigger
			class="bg-principal-5 hover:bg-principal-3 mt-4 mb-16 inline-flex h-12 items-center justify-center gap-2 rounded-lg px-5 font-semibold whitespace-nowrap text-black shadow-sm transition-colors duration-300 active:scale-[0.95]"
		>
			<Plus strokeWidth={3} /> Criar Contrato</Dialog.Trigger
		>
		<Dialog.Portal>
			<Dialog.Overlay class="fixed inset-0 z-50 bg-black/80" />
			<Dialog.Content
				class="bg-principal-1 fixed top-[50%] left-[50%] z-50 w-2/3 translate-x-[-50%] translate-y-[-50%] rounded-lg border p-5 shadow-sm outline-hidden"
			>
				<Dialog.Title
					class="flex w-full items-center justify-center text-2xl font-bold tracking-tight "
				>
					Criação de Contrato
				</Dialog.Title>
				<ScrollArea.Root class="overflow-hidden">
					<ScrollArea.Viewport class="h-full max-h-[50rem]">
						<Contract />
					</ScrollArea.Viewport>
					<ScrollArea.Scrollbar
						orientation="vertical"
						class="bg-princical-2 flex w-2.5 touch-none rounded-full border-l border-l-transparent p-px transition-all duration-200 select-none hover:w-3"
					>
						<ScrollArea.Thumb class="bg-principal-4 flex-1 rounded-full" />
					</ScrollArea.Scrollbar>
					<ScrollArea.Scrollbar
						orientation="horizontal"
						class="bg-principal-2 flex w-2.5 touch-none rounded-full border-l border-l-transparent p-px transition-all duration-200 select-none hover:w-3"
					>
						<ScrollArea.Thumb class="bg-principal-4 flex-1 rounded-full" />
					</ScrollArea.Scrollbar>
					<ScrollArea.Corner />
				</ScrollArea.Root>
				<Dialog.Close
					class="focus-visible:ring-foreground focus-visible:ring-offset-background absolute top-5 right-5 rounded-md focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-hidden active:scale-[0.98]"
				>
					<X class="hover:text-principal-4 size-6 text-black" />
				</Dialog.Close>
			</Dialog.Content>
		</Dialog.Portal>
	</Dialog.Root>
</div>
